(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{380:function(t,e,v){t.exports=v.p+"assets/img/3.93629319.png"},381:function(t,e,v){t.exports=v.p+"assets/img/4.7d5523f2.png"},382:function(t,e,v){t.exports=v.p+"assets/img/1.d798c5ee.png"},383:function(t,e,v){t.exports=v.p+"assets/img/2.7ba890dd.png"},433:function(t,e,v){"use strict";v.r(e);var r=v(45),_=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"git-revert多个commit-记录"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#git-revert多个commit-记录"}},[t._v("#")]),t._v(" git revert多个commit 记录")]),t._v(" "),r("p",[t._v("参考文章： "),r("a",{attrs:{href:"!https://blog.csdn.net/zhangxiaoyang0/article/details/90213597"}},[t._v("git revert多个提交")])]),t._v(" "),r("p",[t._v("现在有提交如下：")]),t._v(" "),r("p",[r("code",[t._v("A -> B -> C -> D")])]),t._v(" "),r("p",[t._v("如果想把B，C，D都给revert，")]),t._v(" "),r("ul",[r("li",[t._v("可以以选择一个一个revert之外，形如以下命令：")])]),t._v(" "),r("p",[r("code",[t._v("git revert --no-commit D")])]),t._v(" "),r("p",[r("code",[t._v("git revert --no-commit C")])]),t._v(" "),r("p",[r("code",[t._v("git revert --no-commit B")])]),t._v(" "),r("p",[t._v("此时我们的状态就回到了提交记录A的状态，再进行提交形成revert提交记录")]),t._v(" "),r("p",[r("code",[t._v('git commit -m "reverted of B、C、D"')])]),t._v(" "),r("p",[t._v("此时分支状态变为：")]),t._v(" "),r("p",[r("code",[t._v("A -> B -> C -> D -> D' -> C' -> B'")])]),t._v(" "),r("p",[t._v("还可以使用revert一个范围， 使用"),r("code",[t._v("git revert OLDER_COMMIT^..NEWER_COMMIT")])]),t._v(" "),r("p",[r("font",{attrs:{color:"red"}},[t._v("注意：是较早提交的commit在前面，最新的commit在后面")])],1),t._v(" "),r("p",[r("code",[t._v("git revert -n B^..D")])]),t._v(" "),r("ul",[r("li",[t._v("上述-n 是表示 --no-commit的简写，代表不自动提交，只是将回滚的代码添加到暂存区")]),t._v(" "),r("li",[t._v("因为revert是回滚一个版本，如果不加-n 自动提交，会形成多个revert记录，如图1-2,此时状态变为：")])]),t._v(" "),r("p",[r("code",[t._v("A -> B -> C -> D -> D' -> C' -> B'")])]),t._v(" "),r("p",[t._v("图1：\n"),r("img",{attrs:{src:v(380),alt:"图1"}})]),t._v(" "),r("p",[t._v("图2：\n"),r("img",{attrs:{src:v(381),alt:"图2"}})]),t._v(" "),r("ul",[r("li",[t._v("加上-n 后，可以自己手动commit提交的信息，成为一条综合的revert后的提交信息。\n比如此次撤销B、C、D的改动，提交commit后再查看，合并为一条提交记录，如图3-4")]),t._v(" "),r("li",[t._v("B^ 意味着“B”的第一个父提交：允许包括B在内的进行revert撤销")])]),t._v(" "),r("p",[t._v("图3：\n"),r("img",{attrs:{src:v(382),alt:"图3"}})]),t._v(" "),r("p",[t._v("图4：\n"),r("img",{attrs:{src:v(383),alt:"图4"}})]),t._v(" "),r("p",[t._v("这样就把B、C、D都revert了，变成如下的提交，此时分支状态变为")]),t._v(" "),r("p",[r("code",[t._v("A -> B -> C -> D ->E'")])]),t._v(" "),r("Valine")],1)}),[],!1,null,null,null);e.default=_.exports}}]);