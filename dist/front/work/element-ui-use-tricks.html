<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>element-ui 使用时的奇淫巧技 | WJ-blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/WJ-blog/logo.jpg">
    <meta name="description" content="我的个人网站">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/WJ-blog/assets/css/0.styles.2ad60580.css" as="style"><link rel="preload" href="/WJ-blog/assets/js/app.1d5c6914.js" as="script"><link rel="preload" href="/WJ-blog/assets/js/2.e3273622.js" as="script"><link rel="preload" href="/WJ-blog/assets/js/25.df2ab4a7.js" as="script"><link rel="preload" href="/WJ-blog/assets/js/14.eb94648e.js" as="script"><link rel="prefetch" href="/WJ-blog/assets/js/10.fc398ffd.js"><link rel="prefetch" href="/WJ-blog/assets/js/11.1f419ae8.js"><link rel="prefetch" href="/WJ-blog/assets/js/12.5ebb6b40.js"><link rel="prefetch" href="/WJ-blog/assets/js/13.6509052d.js"><link rel="prefetch" href="/WJ-blog/assets/js/15.203c2069.js"><link rel="prefetch" href="/WJ-blog/assets/js/16.1477ba41.js"><link rel="prefetch" href="/WJ-blog/assets/js/17.e570d2b0.js"><link rel="prefetch" href="/WJ-blog/assets/js/18.464934b4.js"><link rel="prefetch" href="/WJ-blog/assets/js/19.7cec70d5.js"><link rel="prefetch" href="/WJ-blog/assets/js/20.910b2f07.js"><link rel="prefetch" href="/WJ-blog/assets/js/21.97a853ce.js"><link rel="prefetch" href="/WJ-blog/assets/js/22.0878aff8.js"><link rel="prefetch" href="/WJ-blog/assets/js/23.dcab1895.js"><link rel="prefetch" href="/WJ-blog/assets/js/24.0e985142.js"><link rel="prefetch" href="/WJ-blog/assets/js/26.82148fcd.js"><link rel="prefetch" href="/WJ-blog/assets/js/27.0a4cf245.js"><link rel="prefetch" href="/WJ-blog/assets/js/28.76517dcf.js"><link rel="prefetch" href="/WJ-blog/assets/js/29.7308d1e4.js"><link rel="prefetch" href="/WJ-blog/assets/js/3.b39d66cf.js"><link rel="prefetch" href="/WJ-blog/assets/js/30.4c781960.js"><link rel="prefetch" href="/WJ-blog/assets/js/4.8e5cd6b5.js"><link rel="prefetch" href="/WJ-blog/assets/js/5.352c37c0.js"><link rel="prefetch" href="/WJ-blog/assets/js/6.b77ec8bc.js"><link rel="prefetch" href="/WJ-blog/assets/js/7.c35501dd.js"><link rel="prefetch" href="/WJ-blog/assets/js/8.bb36feae.js"><link rel="prefetch" href="/WJ-blog/assets/js/9.ae841347.js">
    <link rel="stylesheet" href="/WJ-blog/assets/css/0.styles.2ad60580.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/WJ-blog/" class="home-link router-link-active"><!----> <span class="site-name">WJ-blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/WJ-blog/front/introduction.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/WJ-blog/algorithm/study-leetcode.html" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/WJ-blog/life/introduction.html" class="nav-link">
  生活
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/WJ-blog/front/introduction.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/WJ-blog/algorithm/study-leetcode.html" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/WJ-blog/life/introduction.html" class="nav-link">
  生活
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/front/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/WJ-blog/front/study/single-spa-understand.html" class="sidebar-link">关于single-spa的理解和小实战</a></li><li><a href="/WJ-blog/front/study/typescript-about-interface-understand.html" class="sidebar-link">TYPESCRIPT 关于interface理解</a></li><li><a href="/WJ-blog/front/study/css3 transform, transform-origin usage.html" class="sidebar-link">css3 transform, transform-origin 用法</a></li><li><a href="/WJ-blog/front/study/virtualList-fixedItem.html" class="sidebar-link">虚拟列表(item固定高度实现+理解)</a></li><li><a href="/WJ-blog/front/study/virtualList-dynamatic.html" class="sidebar-link">虚拟列表(item高度不固定实现+理解)</a></li><li><a href="/WJ-blog/front/study/virtualList-intersectionObserver1.html" class="sidebar-link">虚拟列表(item 固定高度--采用intersectionObserver)(一)</a></li><li><a href="/WJ-blog/front/study/virtualList-intersectionObserver2.html" class="sidebar-link">虚拟列表(item 固定高度--采用intersectionObserver)(二)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工作遇到的问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/front/work/realize-iframe-and-window.postMessage.html" class="sidebar-link">认识iframe和window.postMessage的使用</a></li><li><a href="/WJ-blog/front/work/vue-admin keep-alive-multiple-router-can't-cathe.html" class="sidebar-link">vue 使用keep-alive 三级以上的路由，无法缓存问题</a></li><li><a href="/WJ-blog/front/work/scrollIntoView VS scrollIntoViewIfNeeded.html" class="sidebar-link">scrollIntoView VS scrollIntoViewIfNeeded、爬坑</a></li><li><a href="/WJ-blog/front/work/circle-progress-by-css3.html" class="sidebar-link">静态环形进度条css3实现</a></li><li><a href="/WJ-blog/front/work/circle-progress-by-svg.html" class="sidebar-link">静态环形进度条svg实现</a></li><li><a href="/WJ-blog/front/work/element-ui-use-tricks.html" aria-current="page" class="active sidebar-link">element-ui 使用时的奇淫巧技</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/WJ-blog/front/work/git revert VS git reset.html" class="sidebar-link">git revert VS git reset</a></li><li><a href="/WJ-blog/front/work/git revert recover file.html" class="sidebar-link">git revert恢复撤销的记录</a></li><li><a href="/WJ-blog/front/work/vue element fonts cannot find after building.html" class="sidebar-link">vue 2.x之打包之后，elements的fonts文件找不到，导致页面图标丢失问题解决</a></li></ul></section></li><li><a href="/WJ-blog/algorithm/study-leetcode.html" class="sidebar-link">刷leetcode部分笔记总结</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>生活杂记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/life/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/WJ-blog/life/lifeDaily/2021-7-7-life.html" class="sidebar-link">2021年7月7日生活笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="element-ui-使用时的奇淫巧技"><a href="#element-ui-使用时的奇淫巧技" class="header-anchor">#</a> element-ui 使用时的奇淫巧技</h3> <h4 id="_1、el-table-的表格cell-开启全局的tooltip提示"><a href="#_1、el-table-的表格cell-开启全局的tooltip提示" class="header-anchor">#</a> 1、el-table 的表格cell,  开启全局的toolTip提示？</h4> <h4 id="_2、el-dialog禁止点击任意空白处关闭弹窗-默认是dialog是开启这个功能的"><a href="#_2、el-dialog禁止点击任意空白处关闭弹窗-默认是dialog是开启这个功能的" class="header-anchor">#</a> 2、el-dialog禁止点击任意空白处关闭弹窗（默认是dialog是开启这个功能的）？</h4> <p>答：
对（1），局部的某个组件文件中, 在el-table-column标签中配置show-overflow-tooltip可以实现提示，但就是太麻烦了
对（2）， 局部的某个组件文件中， 可以在el-dialog中，增加属性  <code>:close-on-click-modal=&quot;false&quot;</code> 实现, 但一个个加也太麻烦了</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-45cc922d76b212e9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="这双眼睛看透了一切~"></p> <p>哈哈，那就动手实现吧，全局设置上述功能！在main.js里这么写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//......</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> 'element<span class="token operator">-</span>ui<span class="token operator">/</span>lib<span class="token operator">/</span>theme<span class="token operator">-</span>chalk<span class="token operator">/</span>index<span class="token punctuation">.</span>css
<span class="token comment">//......</span>

<span class="token comment">// 默认开启悬浮提示样式，定义FitTable 扩展table的样式</span>
ElementUI<span class="token punctuation">.</span>TableColumn<span class="token punctuation">.</span>props<span class="token punctuation">.</span>showOverflowTooltip<span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token operator">:</span>Boolean<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//全局修改默认配置，点击空白处不能关闭弹窗</span>
ElementUI<span class="token punctuation">.</span>Dialog<span class="token punctuation">.</span>props<span class="token punctuation">.</span>closeOnClickModal<span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_3、希望el-table-有这样的功能-table-column组件的属性show-overflow-tooltip是否能同时在对应表头生效"><a href="#_3、希望el-table-有这样的功能-table-column组件的属性show-overflow-tooltip是否能同时在对应表头生效" class="header-anchor">#</a> 3、希望el-table 有这样的功能，table-column组件的属性show-overflow-tooltip是否能同时在对应表头生效?</h4> <p>如下显示：</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-d4de0bad274245f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片"></p> <p>答：</p> <ul><li>如果是对于个别组件文件，实现该效果，即 百度 查询 <strong>element-ui table renderHeader</strong> 实现即可</li> <li>对于已经写了很多文件来说，要想统一实现该效果，有没有方法？哈哈，答案是有的，不然我怎么截图出来! 接下来需要这几步，就可以实现！</li></ul> <ol><li>在你项目的某个目录下，新建一个table-column.js, 作用: <strong>继承el-table-column的功能，但是在它上面又进行自己的扩展</strong>！</li></ol> <p><strong>table-column.js</strong>， 这里采用了vue jsx的写法，要注意几点，第一，项目的element-ui 中的table是否已经支持renderHeader , 第二，看你的项目是否支持vue jsx, 不支持的话，乖乖的动态写render方法哦~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> TableColumn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-ui'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'ElTableColumn'</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> TableColumn<span class="token punctuation">,</span>  <span class="token comment">// 继承本来的TableColumn 功能</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用 renderHeader 方法，设置默认的table-column 表头渲染，当字体超过7个字时(文字出现超出的省略号)，悬浮显示toolTip,</span>
    <span class="token comment">// 采用jsx 语法进行书写</span>
    renderHeader<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Function<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span> <span class="token punctuation">{</span> column <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> label <span class="token punctuation">}</span> <span class="token operator">=</span> column<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> len <span class="token operator">=</span> label<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
          <span class="token keyword">return</span> len <span class="token operator">&gt;</span> <span class="token number">7</span> <span class="token operator">?</span> <span class="token operator">&lt;</span>el<span class="token operator">-</span>tooltip <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span> effect<span class="token operator">=</span><span class="token string">&quot;dark&quot;</span> content<span class="token operator">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span> placement<span class="token operator">=</span><span class="token string">&quot;top&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">100px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>display<span class="token operator">:</span> <span class="token string">'inline-block'</span><span class="token punctuation">,</span>overflow<span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">,</span>textOverflow<span class="token operator">:</span> <span class="token string">'ellipsis'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>tooltip<span class="token operator">&gt;</span>
            <span class="token operator">:</span> <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span> label <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span> label <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ol start="2"><li>在main.js中，引入这个文件，并且全局注册该组件，覆盖原来的ElTableColumn，</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> FitTableColumn <span class="token keyword">from</span> <span class="token string">'@/utils/table-column'</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'ElTableColumn'</span> <span class="token operator">||</span> FitTableColumn<span class="token punctuation">.</span>name<span class="token punctuation">,</span> FitTableColumn<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>配置好上述2点，热更新代码后，效果就有啦~</p> <p>但我这里： 控制台报warning这个：<code>[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.</code> 。。。就先不管了，有空再解决这个warning.</p> <section style="border-top:2px solid #eaecef;padding-top:1rem;margin-top:2rem;"><div><span data-flag-title="Your Article Title" class="leancloud-visitors"><em class="post-meta-item-text">阅读量： </em> <i class="leancloud-visitors-count"></i></span></div> <h3><a href="javascript:;"></a>
    评 论：
  </h3> <div id="vcomments"></div></section></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">4/11/2022, 1:51:28 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/WJ-blog/front/work/circle-progress-by-svg.html" class="prev">
        静态环形进度条svg实现
      </a></span> <span class="next"><a href="/WJ-blog/front/work/git revert VS git reset.html">
        git revert VS git reset
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/WJ-blog/assets/js/app.1d5c6914.js" defer></script><script src="/WJ-blog/assets/js/2.e3273622.js" defer></script><script src="/WJ-blog/assets/js/25.df2ab4a7.js" defer></script><script src="/WJ-blog/assets/js/14.eb94648e.js" defer></script>
  </body>
</html>
