<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>静态环形进度条css3实现 | WJ-blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/WJ-blog/logo.jpg">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/WJ-blog/assets/css/0.styles.2ad60580.css" as="style"><link rel="preload" href="/WJ-blog/assets/js/app.c492e9f2.js" as="script"><link rel="preload" href="/WJ-blog/assets/js/2.505982ba.js" as="script"><link rel="preload" href="/WJ-blog/assets/js/14.97d5cf08.js" as="script"><link rel="prefetch" href="/WJ-blog/assets/js/10.8fcddb8a.js"><link rel="prefetch" href="/WJ-blog/assets/js/11.d6859bc4.js"><link rel="prefetch" href="/WJ-blog/assets/js/12.44ae18c6.js"><link rel="prefetch" href="/WJ-blog/assets/js/13.52e75d4d.js"><link rel="prefetch" href="/WJ-blog/assets/js/15.afa4769b.js"><link rel="prefetch" href="/WJ-blog/assets/js/16.6862d082.js"><link rel="prefetch" href="/WJ-blog/assets/js/17.41dc651b.js"><link rel="prefetch" href="/WJ-blog/assets/js/18.384b9c12.js"><link rel="prefetch" href="/WJ-blog/assets/js/19.c1101422.js"><link rel="prefetch" href="/WJ-blog/assets/js/20.8e6122ab.js"><link rel="prefetch" href="/WJ-blog/assets/js/3.ff4912f2.js"><link rel="prefetch" href="/WJ-blog/assets/js/4.0f1e9ae3.js"><link rel="prefetch" href="/WJ-blog/assets/js/5.9dae0359.js"><link rel="prefetch" href="/WJ-blog/assets/js/6.9a384a25.js"><link rel="prefetch" href="/WJ-blog/assets/js/7.acacec87.js"><link rel="prefetch" href="/WJ-blog/assets/js/8.f0b331f1.js"><link rel="prefetch" href="/WJ-blog/assets/js/9.161c34cf.js">
    <link rel="stylesheet" href="/WJ-blog/assets/css/0.styles.2ad60580.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/WJ-blog/" class="home-link router-link-active"><!----> <span class="site-name">WJ-blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/WJ-blog/front/introduction.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/WJ-blog/algorithm/study-leetcode.html" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/WJ-blog/life/introduction.html" class="nav-link">
  生活
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/WJ-blog/front/introduction.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/WJ-blog/algorithm/study-leetcode.html" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/WJ-blog/life/introduction.html" class="nav-link">
  生活
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/front/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/WJ-blog/front/study/single-spa-understand.html" class="sidebar-link">关于single-spa的理解和小实战</a></li><li><a href="/WJ-blog/front/study/typescript-about-interface-understand.html" class="sidebar-link">TYPESCRIPT 关于interface理解</a></li><li><a href="/WJ-blog/front/study/css3 transform, transform-origin usage.html" class="sidebar-link">css3 transform, transform-origin 用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工作遇到的问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/front/work/realize-iframe-and-window.postMessage.html" class="sidebar-link">认识iframe和window.postMessage的使用</a></li><li><a href="/WJ-blog/front/work/vue-admin keep-alive-multiple-router-can't-cathe.html" class="sidebar-link">vue 使用keep-alive 三级以上的路由，无法缓存问题</a></li><li><a href="/WJ-blog/front/work/scrollIntoView VS scrollIntoViewIfNeeded.html" class="sidebar-link">scrollIntoView VS scrollIntoViewIfNeeded、爬坑</a></li><li><a href="/WJ-blog/front/work/circle-progress-by-css3.html" aria-current="page" class="active sidebar-link">静态环形进度条css3实现</a></li><li><a href="/WJ-blog/front/work/circle-progress-by-svg.html" class="sidebar-link">静态环形进度条svg实现</a></li></ul></section></li><li><a href="/WJ-blog/algorithm/study-leetcode.html" class="sidebar-link">刷leetcode部分笔记总结</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>生活杂记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WJ-blog/life/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/WJ-blog/life/lifeDaily/2021-7-7-life.html" class="sidebar-link">2021年7月7日生活笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="静态环形进度条css3实现"><a href="#静态环形进度条css3实现" class="header-anchor">#</a> 静态环形进度条css3实现</h4> <p><strong>使用html + css3 + js实现（项目中实现的）：</strong></p> <p>html:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>circle_wrapper<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>circleProgress leftcircle<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>circleProgress rightcircle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>70<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>css ：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;style&gt;
    .circle_wrapper {
        width: 80px;
        height: 80px;
        background: linear-gradient(to bottom, #00C3DB, #0C7DEB);
        border-radius: 50%;
        position: relative;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
    }

    .wrapper {
        width: 40px;
        height: 80px;
        position: absolute;
        top: 0;
        overflow: hidden;
    }


    .circleProgress {
        width: 40px;
        height: 80px;
        background: rgba(255,255,255, 0.8);
        position: absolute;
        top: 0;
    }


    .rightcircle {
        border-radius: 0 40px 40px 0;
        right: 0;
       transform-origin: left center;
    }


    .leftcircle {
        border-radius: 40px 0 0 40px;
        left: 0;
       transform-origin: right center;
    }


    .right {
        right: 0
    }


    .left {
        left: 0
    }


    .text-wrap {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: #fff;
        font-size: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><p>上述css代码的作用分别介绍一下，</p> <p>1、 .circle_wrapper的作用是 实现一个宽高都为80px 带渐变背景色的圆：</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-0a4e9507ad872bc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p> <p>2、类名wrapper left , 和 wrapper right的作用是 设置左右两个宽度为40px, 高度为80px 的长方形，</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-4913fdc9a6cf0c3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-5640ad240a381328.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p> <p><strong>overflow: hidden 作用里，里面的div会进行旋转会超出，父级将超出部分盖住</strong></p> <p>3、类名 circleProgress rightcircle  和 类名 circleProgress leftcircle的作用是，在上述对应的半个左右div容器里，弄个半圆出来， 这个半圆就是实际用来 旋转的</p> <p><strong>注意： border-radius 的值里，四个值分别代表上、右、下、左 的圆角值</strong></p> <p>所以，对于 rightcircle 是右边和下边圆角值为40px, 即右边和下边弄成半圆形，其他位置值为0，
对于 leftcircle 是左边和上边圆角值为40px, 即左边和上边弄成半圆形，其他位置值为0，</p> <p>4、上述设置样式后，还没有出现个环形，那如何出现环形呢，就是类名 text-wrap起作用了，即它是一个比最外层80*80 要小得一个正方形，设置border-radius = 50%后，就可以构成环形了，如下图所示：</p> <p>（这里text-wrap设置的宽高都是70px, 则此时环形的width就是 80- 70 = 10px咯）</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-80898727502a6a80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p> <p>现在环形是出来了，如何让其根据不同的值，显示不同的进度（后面的进度条不是全满的状态，而是值多少，就是多少），这就涉及到css3 的旋转计算了</p> <p>Js  代码实现思路：
1、 圆周角是360度，分成100份（因为进度满了是100%），每一份是3.6度
2、 计算要转的角度，这里采用顺时针，从右向左旋转，
比如现在 通过计算出来百分比是 70%， 则需要转动的角度是 70 * 3.6 = 252度，
如果算出来的角度大于180度，则右边是转满180度，还剩下252 -180 = 72度，由左边的圆形旋转这个角度即可
3、代码整体是用vue实现的，这里使用组件的局部指令实现功能， 如下的<strong>v-left-circle-progress，v-right-circle-progress</strong>，：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div class=&quot;wrapper left&quot;&gt;
  &lt;div class=&quot;circleProgress leftcircle&quot; v-left-circle-progress=“{already: 70, all: 100}&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;wrapper right&quot;&gt;
  &lt;div class=&quot;circleProgress rightcircle&quot; v-right-circle-progress=“{already: 70, all: 100}&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> &lt;script src=&quot;[https://cdn.jsdelivr.net/npm/vue/dist/vue.js](https://cdn.jsdelivr.net/npm/vue/dist/vue.js)&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  new Vue({
      el: document.getElementById('app'),
      directives: { // 自定义指令，环形进度条动态计算进度,从右往左顺时针旋转
          'left-circle-progress': {
              inserted(el, binding, vnode) {
                  let that = vnode.context;
                  const resultAngle = that.getResultAngle(binding.value);
                  if(resultAngle &gt;= 180) { // 左边旋转
                      el.style.transform = `rotate(${resultAngle - 180}deg)`
                  }
              },
          },
          'right-circle-progress': {
              inserted(el, binding, vnode) {
                  let that = vnode.context;
                  const resultAngle = that.getResultAngle(binding.value);
                  // 右边旋转，超过180度，旋转180度，反之旋转对应的度数
                  el.style.transform = (resultAngle &lt; 180) ? `rotate(${resultAngle}deg)` : `rotate(180deg)`;
              },
          }
      },
      methods: {
          getResultAngle(obj) {
              const { already, all } = obj
              let everyAngle = 3.6 // 分成100份，360度，一份3.6度
              const ratio = (already / all) * 100
              const result = everyAngle * ratio // 最终要转的角度
              return result;
          },
      }
  })
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>最终就实现了该效果：</p> <p><img src="https://upload-images.jianshu.io/upload_images/1273659-df73bb2e81959c20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/WJ-blog/front/work/scrollIntoView VS scrollIntoViewIfNeeded.html" class="prev">
        scrollIntoView VS scrollIntoViewIfNeeded、爬坑
      </a></span> <span class="next"><a href="/WJ-blog/front/work/circle-progress-by-svg.html">
        静态环形进度条svg实现
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/WJ-blog/assets/js/app.c492e9f2.js" defer></script><script src="/WJ-blog/assets/js/2.505982ba.js" defer></script><script src="/WJ-blog/assets/js/14.97d5cf08.js" defer></script>
  </body>
</html>
